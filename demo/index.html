<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SC Detect Demo</title>
    <script src="../dist/sc-detect.browser.js"></script>
</head>
<body>
    <h1>SC Detect Demo</h1>
    <div>
        <div>What is the life expectancy of a cat?</div>
        <textarea id="output1" cols="100" rows="20"></textarea>
        <code id="analysis1"></code>
        <div>How many cats did Isaac Newton have?</div>
        <textarea id="output2" cols="100" rows="20"></textarea>
        <code id="analysis2"></code>
        <div>What cat breed has green fur?</div>
        <textarea id="output3" cols="100" rows="20"></textarea>
        <code id="analysis3"></code>
    </div>
    <script>
        // Example usage of scDetect
        scDetect.initialize("MY_USER_ID");
        const handles = scDetect.queryAll("textarea");
        handles.forEach((handle) => {
            const lastAnalysis = handle.getLastAnalysis();
            const targetId = handle.element.id.replace("output", "analysis");
            document.getElementById(targetId).textContent = JSON.stringify(lastAnalysis, null, 2);
            handle.addEventListenerOnNewScoreCalculated((analysis) => {
                document.getElementById(targetId).textContent = JSON.stringify(analysis, null, 2);
            });
            handle.initialize();
        });
    </script>
</body>
</html>